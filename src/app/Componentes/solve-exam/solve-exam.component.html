<p-toast></p-toast>
<div *ngIf="questions.length!==0">
    <div *ngIf="question.id!==0">
        <img [src]="imgUrl" height="25" *ngIf="imgUrl">
        <b> {{ question.description }}</b>
    </div>

    <div *ngIf="question.type==='op'">    
        <form [formGroup]="openResponseForm">
            <div class="p-fluid p-formgrid p-grid">
                <div class="p-field p-col-12">
                    <label for="content">Your response</label>
                    <textarea id="content" [rows]="4" [autoResize]="true" pInputTextarea formControlName="content"></textarea>
                </div>
            </div>
        </form>
    </div>

    <div *ngIf="question.type==='mu'">
        <div *ngFor="let ansOpt of loadedAnsOpts" class="p-field-radiobutton">
            <p-radioButton [inputId]="ansOpt.id.toString()" name="multipleUniqueGroup" [value]="ansOpt" [(ngModel)]="selectedAnsOpt"></p-radioButton>
            <label [for]="ansOpt.id">{{ansOpt.description}}</label>
        </div>
    </div>

    <div *ngIf="question.type==='mm'">
        <div *ngFor="let ansOpt of loadedAnsOpts" class="p-field-checkbox">
            <p-checkbox [inputId]="ansOpt.id.toString()" name="multipleMultipleGroup" [value]="ansOpt"  [(ngModel)]="selectedAnsOpts"></p-checkbox>
            <label [for]="ansOpt.id">{{ansOpt.description}}</label>
        </div>
    </div>

    <div *ngIf="questionIndex-1>=0" class="left_button">
        <button pButton type="button" icon="pi pi-arrow-left" class="p-button-text" (click)="back()"></button>
    </div>

    <div *ngIf="questionIndex+1<questions.length" class="right_button">
        <button pButton type="button" icon="pi pi-arrow-right" class="p-button-text" (click)="next()"></button>
    </div>

    <div *ngIf="questionIndex+1===questions.length" class="right_button">
        <button pButton type="button" value="Send responses" icon="pi pi-check" (click)="saveExamStudent()"></button>
    </div>
</div>

<div *ngIf="examHasBeenEnded && !thereWereOpenQuestion">
    <b>Your final grade is: </b> {{examStudent.definitiveGrade}}
</div>
<div *ngIf="examHasBeenEnded &&  thereWereOpenQuestion">
    <b>You have been replied to this exam, wait for you final grade</b>
</div>