<p-toast></p-toast>
<form [formGroup]="examForm">
    <div class="p-fluid p-formgrid p-grid">
        <div class="p-field p-col-12 p-md-6">
            <label for="name">Name</label>
            <input id="name" type="text" pInputText formControlName="name"> 
        </div>
        <div class="p-field p-col-12 p-md-6">
            <label for="durability">Durability (seconds)</label>
            <input id="durability" type="text" pInputText formControlName="durability"> 
        </div>
        <div class="p-field p-col-12">
            <label for="maxGrade">Max grade</label>
            <p-inputNumber id="maxGrade" mode="decimal" [max]="5" [min]="0" [step]="0.01" [minFractionDigits]="1" [maxFractionDigits]="2" formControlName="maxGrade"></p-inputNumber>
        </div>
        <div class="p-field p-col-12">
            <label for="description">Description</label>
            <textarea id="description" [rows]="4" [autoResize]="true" pInputTextarea formControlName="description"></textarea>
        </div>    
        <div *ngIf="creatingExam" class="p-field p-col-12 p-md-6">
            <p-button [disabled]="examForm.invalid" icon="pi pi-check" label="Create exam" class="p-button-secondary" (click)="saveExam()"></p-button>
        </div>
        <div *ngIf="creatingExam && examForm.touched" class="p-field p-col-12 p-md-6">
            <p-button icon="pi pi-times" label="Cancel" class="p-button-secondary" (click)="cancelNewExam()"></p-button>
        </div>
        <div *ngIf="!creatingExam" class="p-field p-col-12 p-md-6">
            <p-button [disabled]="examForm.invalid" icon="pi pi-pencil" label="Update exam" class="p-button-secondary" (click)="updateExam()"></p-button>
        </div>
        <div *ngIf="!creatingExam" class="p-field p-col-12 p-md-6">
            <p-button icon="pi pi-times" label="Cancel" class="p-button-secondary" (click)="cancelUpdateExam()"></p-button>
        </div>
    </div>
</form>
<app-exam-main-view [(examForm)]="examForm" [(creatingExam)]="creatingExam" [(exam)]="exam" [(exams)]="exams"></app-exam-main-view>