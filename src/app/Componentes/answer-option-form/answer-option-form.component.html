<p-toast></p-toast>

<div class="p-fluid p-formgrid p-grid">
    <div class="p-field p-col-12">
        <b>Kind of question: </b> {{question.type | questionType}}
    </div>
</div>
    
<form [formGroup]="ansOptForm">
    <div class="p-fluid p-formgrid p-grid">

        <div class="p-field p-col-12">
            <label for="ans-opt-weight">Weight</label>
            <p-inputNumber id="ans-opt-weight" mode="decimal" [max]="maxWeight" [min]="0" [step]="0.01" [minFractionDigits]="1" [maxFractionDigits]="2" formControlName="weight"></p-inputNumber>
        </div>
        <div class="p-field p-col-12 p-md-12">
            <label for="correct-answer">Correct answer</label>
            <p-toggleButton onLabel="Yes" offLabel="No" formControlName="correctAnswer"></p-toggleButton> 
        </div>
        <div class="p-field p-col-12">
            <label for="ans-opt-description">Description</label>
            <textarea id="ans-opt-description" [rows]="4" [autoResize]="true" pInputTextarea formControlName="description"></textarea>
        </div>    
        <div *ngIf="creatingAnsOpt" class="p-field p-col-12 p-md-6">
            <p-button [disabled]="ansOptForm.invalid" icon="pi pi-check" label="Create answer" class="p-button-secondary" (click)="saveAnsOpt()"></p-button>
        </div>
        <div *ngIf="creatingAnsOpt && ansOptForm.touched" class="p-field p-col-12 p-md-6">
            <p-button icon="pi pi-times" label="Cancel" class="p-button-secondary" (click)="cancelNewAnsOpt()"></p-button>
        </div>
        <div *ngIf="!creatingAnsOpt" class="p-field p-col-12 p-md-6">
            <p-button [disabled]="ansOptForm.invalid" icon="pi pi-pencil" label="Update answer" class="p-button-secondary" (click)="updateAnsOpt()"></p-button>
        </div>
        <div *ngIf="!creatingAnsOpt" class="p-field p-col-12 p-md-6">
            <p-button icon="pi pi-times" label="Cancel" class="p-button-secondary" (click)="cancelUpdateAnsOpt()"></p-button>
        </div>
    </div>
</form>

<app-answer-option-main-view [(maxWeight)]="maxWeight" [(creatingAnsOpt)]="creatingAnsOpt" [(manageAnsOpts)]="manageAnsOpts" [(ansOpt)]="ansOpt" [(ansOptForm)]="ansOptForm"></app-answer-option-main-view>

<div class="p-fluid p-formgrid p-grid">
    <div class="p-field p-col-6">
        <p-button icon="pi pi-times" label="Accept" class="p-button-secondary" (click)="accept()"></p-button>
    </div>
    <div class="p-field p-col-6">
        <p-button icon="pi pi-times" label="Cancel" class="p-button-secondary" (click)="cancel()"></p-button>
    </div>
</div>